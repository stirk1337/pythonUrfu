from unittest import TestCase
from notmain import DataSet, report


class DataTests(TestCase):
    def test_csv_filer(self):
        vac = [['Web-программист',
                'NEW! Web-программист(без опыта и с опытом) Обязанности: - верстка сайтов на основе готовых макетов PHP, HTML и CSS - подключение собственной системы управления(обучение) - развитие собственного движка и системы управления - установка движка организации на проектах (обучение) Требования: PHP7.4+ (знания ООП и паттернов проектирования) MySQL(MariaDB,PostgresQL) CSS(LESS,SASS) JS(TypeScript,NodeJS) знание основ Figma / Photoshop(для верстки с макетов из PSD) остальное при собеседовании. Условия: - работа с офисе на Московское шоссе (удаленка после испытательного срока) - 5 дней с 9-00 до 18-00 (после вхождения в работу график может быть плавающим) - чай кофе печеньки - дружный коллектив - отпуск ежегодный оплачиваемый В целом рассматриваем как с опытом работы так и без опыта. Если человек готов учиться и развиваться, он предан и любит программировать и верстать сайты мы его научим и подготовим за счет компании. Испытательный срок от 2 до 4 недель(при собеседовании) Зарплата 2 раза в месяц: аванс и оклад. Оклад фиксированный + % от объема выполненных задач за месяц.',
                'Управление проектами\nВедение переговоров\nРазработка ПО\nРазработка технических заданий\nУправление интернет-проектами\nРазработка концепции\nИнформационные технологии\nОрганизаторские навыки\nПроведение презентаций\nОбучение персонала\nАнглийский язык\nРабота в команде\nПодбор персонала',
                'noExperience', 'False', 'Асташенков Г. А.', '30000.0', '80000.0', 'False', 'RUR', 'Ульяновск',
                '2022-05-31T17:32:31+0300'], ['Junior+/ Middle Python разработчик',
                                              'CiPlay разрабатывает web-сервисы для международного рынок различной направленности, включающие в себя интеграции сторонних продуктов, платежных систем и пр. а. Мы хотим развивать свои технологии и потому ищем разработчиков. Команда — распределенная, все работают примерно в одно время: когда в Москве день. На данный момент мы набираем в команду удаленных программистов для ускорения реализации задач. Мы ищем человека близкого нам по духу, который погрузится с головой в наши проекты. Важными аспектами эффективной работы в нашей команде являются: взаимопонимание и умение проявлять эмпатию, умение достигать результат поставленной задачи тем способом, который считаешь нужным, при этом, наиболее эффективным, переводить некоторые запросы заказчиков с человеческого на язык разработки:) Программирование у нас не превратится в рутину. Мы запросто ставим сложные задачи и ожидаем, что для их решения вы самостоятельно разберетесь в той области знаний, о которой раньше даже и не слышали. Творческий подход, нестандартные решения приветствуются! При необходимости и сможешь влиять на все продукты компании. Обязанности: разрабатывать web-сервисы на Python;интеграции сторонних API (платежки и пр.);настройка серверов, работа с доменами;работа с БД; разработка фич для бэк офиса; взаимодействие с веб-разработчиками;участие в полном цикле разработки - проектирование, программирование, тестирование, поддержка; контролирование качества кода; настройка СI/CD. Требования: уверенное знание Python 3, FastAPI, Django (DRF); опыт коммерческой разработки в web; классические алгоритмы и структуры данных; знание HTML/CSS/JS на базовом уровне; знание сетевых протоколов HTTP, WebSocket;понимание иерархических структур и БД; умение разбираться в чужом коде; опыт работы с OC Linux; практический опыт автоматизации развертывания приложений; коммуникативные навыки; ответственность, активность и умение работать в команде; желание обучаться и расти;опыт работы с Docker; опыт работы с системами контроля версий Git; английский язык на техническом уровне. Мы оценим, если вы: имеете опыт разработки на Python: Flask, SQLAlchemy, Celery, Tornado; знакомы со Scrapy и Falcon; умеете работать с Redis и RabbitMQ; знаете Docker Compose и Kubernetes; понимаете Clean Architecture и DDD; знаете регулярные выражения; умеете писать тесты на pytest; знание стандартной библиотеки языка;знание SQL, опыт работы с PostgreSQL, продвинутое использование ORM; опыт разработки сложных проектов. Ключевые навыки: Python3FastApi Django Framework Django REST Framework celery redis PostgreSQL Nginx uWSGI/gunicorn Docker docker-compose Условия: график работы: 5/2 с гибким рабочим днем;удаленная работа; высокий уровень свободы — есть возможность проверять свои гипотезы, экспериментировать и реально влиять на конечный продукт; дружный коллектив\u200b\u200b и адекватное руководство;',
                                              'Python\nDjango Framework\nGit\nLinux\nPostgreSQL\nFastAPI',
                                              'between1And3',
                                              'False', 'CiPlay', '40000.0', '80000.0', 'False', 'RUR',
                                              'Санкт-Петербург',
                                              '2022-05-31T17:44:23+0300'],
               ['Junior+/Middle Frontend-разработчик (React)',
                'Описание: CiPlay разрабатывает web-сервисы для международного рынка iGaming, включающие в себя интеграции сторонних продуктов, платежных систем и пр. Сейчас мы на стадии запущенного MVP и активно наполняем продукт новыми фичами и решениями.Ищем заинтересованного человека, разбирающегося в frontend части Web-приложений на React, который готов работать в молодой компании, проявлять инициативу и расти самому вместе с проектами, а не просто выполнять задачи от team lead разработчика.Мы набираем в команду удаленных программистов для ускорения реализации задач. Нужно разобраться в продукте, понять, как протекают бизнес процессы и совершенствовать продукт. Обязанности: командная фронтенд разработка, программирование и верстка интерфейсов; технологический стек: React, Redux, Webpack, HTML+CSS, SCSS, Rest API, Git; реализация новых продуктов и фич. Требования: опыт в коммерческой разработке от 1 года; базовые знания функционального программирования; знание React на функциональных и классовых компонентах; умение работать с Redux; способность к самообучению; умение верстать; умение работать в команде; продуктовая вовлеченность, желание развивать продукт; умение реализовывать БЭМ на верстке; базовые знания Git. Мы оценим, если Вы: имеете опыт разработки TypeScript; умеете настраивать Webpack; умеете работать с Figma. Условия: график работы: 5/2; удаленная работа; желание экспериментировать и реально влиять на конечный продукт; дружный коллектив\u200b\u200b и адекватное руководство;',
                'React\nGit\nJavaScript\nTypeScript\nRedux',
                'between1And3', 'False', 'CiPlay', '40000.0',
                '100000.0', 'False', 'RUR', 'Санкт-Петербург',
                '2022-05-31T17:45:26+0300'],
               ['Мастер по ремонту майнинг-оборудования (asic)',
                'Обязанности: Пайка SMD-компонентов; Отклеивание и приклеивание радиаторов от чипов; Поэтапная диагностика, выявление неисправных чипов, восстановление цепей питания. Требования: Умение читать схемы, знание основ электроники; Опыт работы желателен. Условия: Комфортабельное оборудованное рабочее место; Достойный фиксированный оклад, плюс проценты (нет потолка); Бесплатные обеды; Оплачиваемое обучение и рост.',
                'Пользователь ПК\nРабота в команде\nЭлектроника\nMS Paint\nПайка', 'between1And3', 'False',
                'Электроснаб',
                '70000.0', '150000.0', 'False', 'RUR', 'Махачкала', '2022-05-31T17:47:55+0300'],
               ['Мастер по ремонту майнинг-оборудования (asic)',
                'Обязанности: Пайка SMD-компонентов; Отклеивание и приклеивание радиаторов от чипов; Поэтапная диагностика, выявление неисправных чипов, восстановление цепей питания. Требования: Умение читать схемы, знание основ электроники; Опыт работы желателен. Условия: Комфортабельное оборудованное рабочее место; Достойный фиксированный оклад, плюс проценты (нет потолка); Бесплатные обеды; Оплачиваемое обучение и рост.',
                'Пользователь ПК\nРабота в команде\nЭлектроника\nMS Paint\nПайка', 'between1And3', 'False',
                'Электроснаб',
                '70000.0', '150000.0', 'False', 'RUR', 'Буйнакск', '2022-05-31T17:47:55+0300']]
        print(vac)
        self.assertEqual(DataSet.csv_filer(vac)[0], vac[1])

    def test_clean_no_change(self):
        self.assertEqual(DataSet.clean("Hello chat!"), "Hello chat!")

    def test_clean_huge_change(self):
        one = "Описание:<script>CiPlay разрабатывает web-сервисы для международного рынка iGaming,        включающие в себя <p>lol</p>интеграции сторонних продуктов, платежных систем и пр. Сейчас мы на стадии запущенного MVP и активно наполняем продукт новыми фичами и решениями.Ищем заинтересованного человека, разбирающегося в frontend части Web-приложений на React, который готов работать в молодой компании, проявлять инициативу и расти самому вместе с проектами, а не просто выполнять задачи от team lead разработчика.Мы набираем в команду удаленных программистов для ускорения реализации задач. Нужно разобраться в продукте, понять, как протекают бизнес процессы и совершенствовать продукт. Обязанности: командная фронтенд разработка, программирование и верстка интерфейсов; технологический стек: React, Redux, Webpack, HTML+CSS, SCSS, Rest API, Git; реализация новых продуктов и фич. Требования: опыт в коммерческой разработке от 1 года; базовые знания функционального программирования; знание React на функциональных и классовых компонентах; умение работать с Redux; способность к самообучению; умение верстать; умение работать в команде; продуктовая вовлеченность, желание развивать продукт; умение реализовывать БЭМ на верстке; базовые знания Git. Мы оценим, если Вы: имеете опыт разработки TypeScript; умеете настраивать Webpack; умеете работать с Figma. Условия: график работы: 5/2; удаленная работа; желание экспериментировать и реально влиять на конечный продукт; дружный коллектив​​ и адекватное руководство"
        two = "Описание:CiPlay разрабатывает web-сервисы для международного рынка iGaming, включающие в себя lolинтеграции сторонних продуктов, платежных систем и пр. Сейчас мы на стадии запущенного MVP и активно наполняем продукт новыми фичами и решениями.Ищем заинтересованного человека, разбирающегося в frontend части Web-приложений на React, который готов работать в молодой компании, проявлять инициативу и расти самому вместе с проектами, а не просто выполнять задачи от team lead разработчика.Мы набираем в команду удаленных программистов для ускорения реализации задач. Нужно разобраться в продукте, понять, как протекают бизнес процессы и совершенствовать продукт. Обязанности: командная фронтенд разработка, программирование и верстка интерфейсов; технологический стек: React, Redux, Webpack, HTML+CSS, SCSS, Rest API, Git; реализация новых продуктов и фич. Требования: опыт в коммерческой разработке от 1 года; базовые знания функционального программирования; знание React на функциональных и классовых компонентах; умение работать с Redux; способность к самообучению; умение верстать; умение работать в команде; продуктовая вовлеченность, желание развивать продукт; умение реализовывать БЭМ на верстке; базовые знания Git. Мы оценим, если Вы: имеете опыт разработки TypeScript; умеете настраивать Webpack; умеете работать с Figma. Условия: график работы: 5/2; удаленная работа; желание экспериментировать и реально влиять на конечный продукт; дружный коллектив​​ и адекватное руководство"
        self.assertEqual(DataSet.clean(one), two)

    def test_count(self):
        dict_naming = {'name': 0, 'description': 1, 'key_skills': 2, 'experience_id': 3, 'premium': 4, 'employer_name': 5, 'salary_from': 6, 'salary_to': 7, 'salary_gross': 8, 'salary_currency': 9, 'area_name': 10, 'published_at': 11}
        salary_dynamic = {2022: [55000, 60000, 70000, 110000, 110000]}
        salary_prof_dynamic = {2022: []}
        city_count = {'Ульяновск': 12, 'Санкт-Петербург': 24, 'Махачкала': 12, 'Буйнакск': 12}
        prof_count = {2022: 0}
        years = {2022: 2022}
        count_dynamic = {2022: 5}
        prof = 'Аналитик'
        header = ['name', 'description', 'key_skills', 'experience_id', 'premium', 'employer_name', 'salary_from', 'salary_to', 'salary_gross', 'salary_currency', 'area_name', 'published_at']
        vac = [['Web-программист', 'NEW! Web-программист(без опыта и с опытом) Обязанности: - верстка сайтов на основе готовых макетов PHP, HTML и CSS - подключение собственной системы управления(обучение) - развитие собственного движка и системы управления - установка движка организации на проектах (обучение) Требования: PHP7.4+ (знания ООП и паттернов проектирования) MySQL(MariaDB,PostgresQL) CSS(LESS,SASS) JS(TypeScript,NodeJS) знание основ Figma / Photoshop(для верстки с макетов из PSD) остальное при собеседовании. Условия: - работа с офисе на Московское шоссе (удаленка после испытательного срока) - 5 дней с 9-00 до 18-00 (после вхождения в работу график может быть плавающим) - чай кофе печеньки - дружный коллектив - отпуск ежегодный оплачиваемый В целом рассматриваем как с опытом работы так и без опыта. Если человек готов учиться и развиваться, он предан и любит программировать и верстать сайты мы его научим и подготовим за счет компании. Испытательный срок от 2 до 4 недель(при собеседовании) Зарплата 2 раза в месяц: аванс и оклад. Оклад фиксированный + % от объема выполненных задач за месяц.', 'Управление проектами\nВедение переговоров\nРазработка ПО\nРазработка технических заданий\nУправление интернет-проектами\nРазработка концепции\nИнформационные технологии\nОрганизаторские навыки\nПроведение презентаций\nОбучение персонала\nАнглийский язык\nРабота в команде\nПодбор персонала', 'noExperience', 'False', 'Асташенков Г. А.', '30000.0', '80000.0', 'False', 'RUR', 'Ульяновск', '2022-05-31T17:32:31+0300'], ['Junior+/ Middle Python разработчик', 'CiPlay разрабатывает web-сервисы для международного рынок различной направленности, включающие в себя интеграции сторонних продуктов, платежных систем и пр. а. Мы хотим развивать свои технологии и потому ищем разработчиков. Команда — распределенная, все работают примерно в одно время: когда в Москве день. На данный момент мы набираем в команду удаленных программистов для ускорения реализации задач. Мы ищем человека близкого нам по духу, который погрузится с головой в наши проекты. Важными аспектами эффективной работы в нашей команде являются: взаимопонимание и умение проявлять эмпатию, умение достигать результат поставленной задачи тем способом, который считаешь нужным, при этом, наиболее эффективным, переводить некоторые запросы заказчиков с человеческого на язык разработки:) Программирование у нас не превратится в рутину. Мы запросто ставим сложные задачи и ожидаем, что для их решения вы самостоятельно разберетесь в той области знаний, о которой раньше даже и не слышали. Творческий подход, нестандартные решения приветствуются! При необходимости и сможешь влиять на все продукты компании. Обязанности: разрабатывать web-сервисы на Python;интеграции сторонних API (платежки и пр.);настройка серверов, работа с доменами;работа с БД; разработка фич для бэк офиса; взаимодействие с веб-разработчиками;участие в полном цикле разработки - проектирование, программирование, тестирование, поддержка; контролирование качества кода; настройка СI/CD. Требования: уверенное знание Python 3, FastAPI, Django (DRF); опыт коммерческой разработки в web; классические алгоритмы и структуры данных; знание HTML/CSS/JS на базовом уровне; знание сетевых протоколов HTTP, WebSocket;понимание иерархических структур и БД; умение разбираться в чужом коде; опыт работы с OC Linux; практический опыт автоматизации развертывания приложений; коммуникативные навыки; ответственность, активность и умение работать в команде; желание обучаться и расти;опыт работы с Docker; опыт работы с системами контроля версий Git; английский язык на техническом уровне. Мы оценим, если вы: имеете опыт разработки на Python: Flask, SQLAlchemy, Celery, Tornado; знакомы со Scrapy и Falcon; умеете работать с Redis и RabbitMQ; знаете Docker Compose и Kubernetes; понимаете Clean Architecture и DDD; знаете регулярные выражения; умеете писать тесты на pytest; знание стандартной библиотеки языка;знание SQL, опыт работы с PostgreSQL, продвинутое использование ORM; опыт разработки сложных проектов. Ключевые навыки: Python3FastApi Django Framework Django REST Framework celery redis PostgreSQL Nginx uWSGI/gunicorn Docker docker-compose Условия: график работы: 5/2 с гибким рабочим днем;удаленная работа; высокий уровень свободы — есть возможность проверять свои гипотезы, экспериментировать и реально влиять на конечный продукт; дружный коллектив\u200b\u200b и адекватное руководство;', 'Python\nDjango Framework\nGit\nLinux\nPostgreSQL\nFastAPI', 'between1And3', 'False', 'CiPlay', '40000.0', '80000.0', 'False', 'RUR', 'Санкт-Петербург', '2022-05-31T17:44:23+0300'], ['Junior+/Middle Frontend-разработчик (React)', 'Описание: CiPlay разрабатывает web-сервисы для международного рынка iGaming, включающие в себя интеграции сторонних продуктов, платежных систем и пр. Сейчас мы на стадии запущенного MVP и активно наполняем продукт новыми фичами и решениями.Ищем заинтересованного человека, разбирающегося в frontend части Web-приложений на React, который готов работать в молодой компании, проявлять инициативу и расти самому вместе с проектами, а не просто выполнять задачи от team lead разработчика.Мы набираем в команду удаленных программистов для ускорения реализации задач. Нужно разобраться в продукте, понять, как протекают бизнес процессы и совершенствовать продукт. Обязанности: командная фронтенд разработка, программирование и верстка интерфейсов; технологический стек: React, Redux, Webpack, HTML+CSS, SCSS, Rest API, Git; реализация новых продуктов и фич. Требования: опыт в коммерческой разработке от 1 года; базовые знания функционального программирования; знание React на функциональных и классовых компонентах; умение работать с Redux; способность к самообучению; умение верстать; умение работать в команде; продуктовая вовлеченность, желание развивать продукт; умение реализовывать БЭМ на верстке; базовые знания Git. Мы оценим, если Вы: имеете опыт разработки TypeScript; умеете настраивать Webpack; умеете работать с Figma. Условия: график работы: 5/2; удаленная работа; желание экспериментировать и реально влиять на конечный продукт; дружный коллектив\u200b\u200b и адекватное руководство;', 'React\nGit\nJavaScript\nTypeScript\nRedux', 'between1And3', 'False', 'CiPlay', '40000.0', '100000.0', 'False', 'RUR', 'Санкт-Петербург', '2022-05-31T17:45:26+0300'], ['Мастер по ремонту майнинг-оборудования (asic)', 'Обязанности: Пайка SMD-компонентов; Отклеивание и приклеивание радиаторов от чипов; Поэтапная диагностика, выявление неисправных чипов, восстановление цепей питания. Требования: Умение читать схемы, знание основ электроники; Опыт работы желателен. Условия: Комфортабельное оборудованное рабочее место; Достойный фиксированный оклад, плюс проценты (нет потолка); Бесплатные обеды; Оплачиваемое обучение и рост.', 'Пользователь ПК\nРабота в команде\nЭлектроника\nMS Paint\nПайка', 'between1And3', 'False', 'Электроснаб', '70000.0', '150000.0', 'False', 'RUR', 'Махачкала', '2022-05-31T17:47:55+0300'], ['Мастер по ремонту майнинг-оборудования (asic)', 'Обязанности: Пайка SMD-компонентов; Отклеивание и приклеивание радиаторов от чипов; Поэтапная диагностика, выявление неисправных чипов, восстановление цепей питания. Требования: Умение читать схемы, знание основ электроники; Опыт работы желателен. Условия: Комфортабельное оборудованное рабочее место; Достойный фиксированный оклад, плюс проценты (нет потолка); Бесплатные обеды; Оплачиваемое обучение и рост.', 'Пользователь ПК\nРабота в команде\nЭлектроника\nMS Paint\nПайка', 'between1And3', 'False', 'Электроснаб', '70000.0', '150000.0', 'False', 'RUR', 'Буйнакск', '2022-05-31T17:47:55+0300']]
        self.assertEqual(DataSet.count(vac, header, prof), (dict_naming, salary_dynamic, count_dynamic, salary_prof_dynamic, city_count, prof_count, years))

    def test_calculate_city(self):
        vac = [['Web-программист', 'NEW! Web-программист(без опыта и с опытом) Обязанности: - верстка сайтов на основе готовых макетов PHP, HTML и CSS - подключение собственной системы управления(обучение) - развитие собственного движка и системы управления - установка движка организации на проектах (обучение) Требования: PHP7.4+ (знания ООП и паттернов проектирования) MySQL(MariaDB,PostgresQL) CSS(LESS,SASS) JS(TypeScript,NodeJS) знание основ Figma / Photoshop(для верстки с макетов из PSD) остальное при собеседовании. Условия: - работа с офисе на Московское шоссе (удаленка после испытательного срока) - 5 дней с 9-00 до 18-00 (после вхождения в работу график может быть плавающим) - чай кофе печеньки - дружный коллектив - отпуск ежегодный оплачиваемый В целом рассматриваем как с опытом работы так и без опыта. Если человек готов учиться и развиваться, он предан и любит программировать и верстать сайты мы его научим и подготовим за счет компании. Испытательный срок от 2 до 4 недель(при собеседовании) Зарплата 2 раза в месяц: аванс и оклад. Оклад фиксированный + % от объема выполненных задач за месяц.', 'Управление проектами\nВедение переговоров\nРазработка ПО\nРазработка технических заданий\nУправление интернет-проектами\nРазработка концепции\nИнформационные технологии\nОрганизаторские навыки\nПроведение презентаций\nОбучение персонала\nАнглийский язык\nРабота в команде\nПодбор персонала', 'noExperience', 'False', 'Асташенков Г. А.', '30000.0', '80000.0', 'False', 'RUR', 'Ульяновск', '2022-05-31T17:32:31+0300'], ['Junior+/ Middle Python разработчик', 'CiPlay разрабатывает web-сервисы для международного рынок различной направленности, включающие в себя интеграции сторонних продуктов, платежных систем и пр. а. Мы хотим развивать свои технологии и потому ищем разработчиков. Команда — распределенная, все работают примерно в одно время: когда в Москве день. На данный момент мы набираем в команду удаленных программистов для ускорения реализации задач. Мы ищем человека близкого нам по духу, который погрузится с головой в наши проекты. Важными аспектами эффективной работы в нашей команде являются: взаимопонимание и умение проявлять эмпатию, умение достигать результат поставленной задачи тем способом, который считаешь нужным, при этом, наиболее эффективным, переводить некоторые запросы заказчиков с человеческого на язык разработки:) Программирование у нас не превратится в рутину. Мы запросто ставим сложные задачи и ожидаем, что для их решения вы самостоятельно разберетесь в той области знаний, о которой раньше даже и не слышали. Творческий подход, нестандартные решения приветствуются! При необходимости и сможешь влиять на все продукты компании. Обязанности: разрабатывать web-сервисы на Python;интеграции сторонних API (платежки и пр.);настройка серверов, работа с доменами;работа с БД; разработка фич для бэк офиса; взаимодействие с веб-разработчиками;участие в полном цикле разработки - проектирование, программирование, тестирование, поддержка; контролирование качества кода; настройка СI/CD. Требования: уверенное знание Python 3, FastAPI, Django (DRF); опыт коммерческой разработки в web; классические алгоритмы и структуры данных; знание HTML/CSS/JS на базовом уровне; знание сетевых протоколов HTTP, WebSocket;понимание иерархических структур и БД; умение разбираться в чужом коде; опыт работы с OC Linux; практический опыт автоматизации развертывания приложений; коммуникативные навыки; ответственность, активность и умение работать в команде; желание обучаться и расти;опыт работы с Docker; опыт работы с системами контроля версий Git; английский язык на техническом уровне. Мы оценим, если вы: имеете опыт разработки на Python: Flask, SQLAlchemy, Celery, Tornado; знакомы со Scrapy и Falcon; умеете работать с Redis и RabbitMQ; знаете Docker Compose и Kubernetes; понимаете Clean Architecture и DDD; знаете регулярные выражения; умеете писать тесты на pytest; знание стандартной библиотеки языка;знание SQL, опыт работы с PostgreSQL, продвинутое использование ORM; опыт разработки сложных проектов. Ключевые навыки: Python3FastApi Django Framework Django REST Framework celery redis PostgreSQL Nginx uWSGI/gunicorn Docker docker-compose Условия: график работы: 5/2 с гибким рабочим днем;удаленная работа; высокий уровень свободы — есть возможность проверять свои гипотезы, экспериментировать и реально влиять на конечный продукт; дружный коллектив\u200b\u200b и адекватное руководство;', 'Python\nDjango Framework\nGit\nLinux\nPostgreSQL\nFastAPI', 'between1And3', 'False', 'CiPlay', '40000.0', '80000.0', 'False', 'RUR', 'Санкт-Петербург', '2022-05-31T17:44:23+0300'], ['Junior+/Middle Frontend-разработчик (React)', 'Описание: CiPlay разрабатывает web-сервисы для международного рынка iGaming, включающие в себя интеграции сторонних продуктов, платежных систем и пр. Сейчас мы на стадии запущенного MVP и активно наполняем продукт новыми фичами и решениями.Ищем заинтересованного человека, разбирающегося в frontend части Web-приложений на React, который готов работать в молодой компании, проявлять инициативу и расти самому вместе с проектами, а не просто выполнять задачи от team lead разработчика.Мы набираем в команду удаленных программистов для ускорения реализации задач. Нужно разобраться в продукте, понять, как протекают бизнес процессы и совершенствовать продукт. Обязанности: командная фронтенд разработка, программирование и верстка интерфейсов; технологический стек: React, Redux, Webpack, HTML+CSS, SCSS, Rest API, Git; реализация новых продуктов и фич. Требования: опыт в коммерческой разработке от 1 года; базовые знания функционального программирования; знание React на функциональных и классовых компонентах; умение работать с Redux; способность к самообучению; умение верстать; умение работать в команде; продуктовая вовлеченность, желание развивать продукт; умение реализовывать БЭМ на верстке; базовые знания Git. Мы оценим, если Вы: имеете опыт разработки TypeScript; умеете настраивать Webpack; умеете работать с Figma. Условия: график работы: 5/2; удаленная работа; желание экспериментировать и реально влиять на конечный продукт; дружный коллектив\u200b\u200b и адекватное руководство;', 'React\nGit\nJavaScript\nTypeScript\nRedux', 'between1And3', 'False', 'CiPlay', '40000.0', '100000.0', 'False', 'RUR', 'Санкт-Петербург', '2022-05-31T17:45:26+0300'], ['Мастер по ремонту майнинг-оборудования (asic)', 'Обязанности: Пайка SMD-компонентов; Отклеивание и приклеивание радиаторов от чипов; Поэтапная диагностика, выявление неисправных чипов, восстановление цепей питания. Требования: Умение читать схемы, знание основ электроники; Опыт работы желателен. Условия: Комфортабельное оборудованное рабочее место; Достойный фиксированный оклад, плюс проценты (нет потолка); Бесплатные обеды; Оплачиваемое обучение и рост.', 'Пользователь ПК\nРабота в команде\nЭлектроника\nMS Paint\nПайка', 'between1And3', 'False', 'Электроснаб', '70000.0', '150000.0', 'False', 'RUR', 'Махачкала', '2022-05-31T17:47:55+0300'], ['Мастер по ремонту майнинг-оборудования (asic)', 'Обязанности: Пайка SMD-компонентов; Отклеивание и приклеивание радиаторов от чипов; Поэтапная диагностика, выявление неисправных чипов, восстановление цепей питания. Требования: Умение читать схемы, знание основ электроники; Опыт работы желателен. Условия: Комфортабельное оборудованное рабочее место; Достойный фиксированный оклад, плюс проценты (нет потолка); Бесплатные обеды; Оплачиваемое обучение и рост.', 'Пользователь ПК\nРабота в команде\nЭлектроника\nMS Paint\nПайка', 'between1And3', 'False', 'Электроснаб', '70000.0', '150000.0', 'False', 'RUR', 'Буйнакск', '2022-05-31T17:47:55+0300']]
        header = ['name', 'description', 'key_skills', 'experience_id', 'premium', 'employer_name', 'salary_from', 'salary_to', 'salary_gross', 'salary_currency', 'area_name', 'published_at']
        dict_naming = {'name': 0, 'description': 1, 'key_skills': 2, 'experience_id': 3, 'premium': 4, 'employer_name': 5, 'salary_from': 6, 'salary_to': 7, 'salary_gross': 8, 'salary_currency': 9, 'area_name': 10, 'published_at': 11}
        city_count = {'Ульяновск': 12, 'Санкт-Петербург': 456, 'Махачкала': 12, 'Буйнакск': 12, 'Пермь': 108, 'Тюмень': 120, 'Москва': 972, 'Октябрьский (Московская область, Люберецкий район)': 12, 'Дмитров': 12, 'Ростов-на-Дону': 96, 'Казань': 60, 'Астрахань': 24, 'Ижевск': 60, 'Томск': 72, 'Бишкек': 12, 'Алматы': 264, 'Хабаровск': 60, 'Амурск': 12, 'Комсомольск-на-Амуре': 12, 'Князе-Волконское': 12, 'Ташкент': 48, 'Екатеринбург': 120, 'Ленинское (Новосибирская область)': 12, 'Новосибирск': 144, 'Якутск': 24, 'Армавир': 12, 'Челябинск': 144, 'Нижний Новгород': 96, 'Атырау': 12, 'Уфа': 60, 'Нефтеюганск': 12, 'Караганда': 48, 'Тамбов': 24, 'Пушкин': 12, 'Нижний Тагил': 12, 'Александров': 12, 'Набережные Челны': 84, 'Красноярск': 72, 'Ногинск': 12, 'Ставрополь': 24, 'Минск': 60, 'Кострома': 12, 'Партизанск': 12, 'Иваново (Ивановская область)': 12, 'Иркутск': 84, 'Новокузнецк': 24, 'Осинники': 12, 'Прокопьевск': 12, 'Владивосток': 72, 'Улан-Удэ': 24, 'Артем': 12, 'Кыштым': 24, 'Кемерово': 36, 'Петропавловск': 12, 'Сызрань': 12, 'Норильск': 12, 'Омск': 48, 'Петропавловск-Камчатский': 24, 'Горно-Алтайск': 12, 'Воронеж': 36, 'Самара': 24, 'Химки': 12, 'Бердск': 24, 'Чебоксары': 12, 'Нур-Султан': 48, 'Большой Камень': 12, 'Костанай': 24, 'Находка': 12, 'Благовещенск (Амурская область)': 12, 'Пенза': 24, 'Вологда': 12, 'Краснодар': 84, 'Рязань': 24, 'Саранск': 24, 'Котово': 12, 'Владикавказ': 12, 'Владимир': 12, 'Белгород': 24, 'Радужный (Ханты-Мансийский АО - Югра)': 12, 'Брянск': 12, 'Мытищи': 12, 'Ярославль': 12, 'Азов': 12, 'Нижнекамск': 24, 'Бугульма': 12, 'Салават': 12, 'Стерлитамак': 12, 'Нефтекамск': 12, 'Октябрьский (Республика Башкортостан)': 12, 'Ишимбай': 12, 'Альметьевск': 12, 'Зеленодольск (Республика Татарстан)': 12, 'Елабуга': 12, 'Симферополь': 24, 'Липецк': 12, 'Елец': 12, 'Тула': 24, 'Чехов': 12, 'Севастополь': 24, 'Гомель': 12, 'Волгоград': 24, 'Киев': 24, 'Саратов': 24, 'Кронштадт': 12, 'Барнаул': 24, 'Петрозаводск': 12, 'Великий Новгород': 12, 'Таганрог': 12, 'Искитим': 12, 'Кольцово (Новосибирская область)': 12, 'Тверь': 12, 'Шелехов': 12, 'Щелково': 12, 'Тольятти': 12, 'Киров (Кировская область)': 12, 'Калининград': 12, 'Дзержинский': 12, 'Геленджик': 12, 'Ангарск': 24, 'Братск': 24, 'Усть-Кут': 12, 'Сургут': 12, 'Абакан': 12, 'Адлер': 12, 'Алдан': 12, 'Анадырь': 12, 'Анапа': 12, 'Нерюнгри': 12, 'Орск': 12, 'Печора': 12, 'Тихорецк': 12, 'Усть-Каменогорск': 12, 'Краснотурьинск': 12, 'Нижневартовск': 12}
        salary_city = {'Санкт-Петербург': [60000, 70000]}
        self.assertEqual(DataSet.calculate_city(vac, header, dict_naming, city_count), salary_city)

    def test_last_summ(self):
        salary_dynamic = {2022: [55000, 60000, 70000, 110000, 110000, 30000, 30000, 250000, 175000, 389350, 389350, 30000, 50000, 90000, 55000, 85000, 32500, 160000, 50000, 175000, 125000, 30000, 41000, 19000, 146250, 29500, 75000, 75000, 75000, 75000, 29500, 22000, 125000, 50000, 50000, 35000, 40000, 41000, 82500, 61750, 47500, 56000, 182000, 162500, 29250, 25000, 25000, 70000, 90000, 80000, 205000, 325000, 42500, 20500, 18850, 59250, 67500, 16250, 175000, 31200, 285000, 285000, 39000, 109188, 109188, 21500, 21500, 47500, 39000, 115000, 81891, 50000, 70000, 150000, 175000, 90000, 250000, 42500, 250000, 92500, 12500, 80000, 40000, 81500, 42500, 38774, 65000, 70000, 400000, 70000, 45000, 72500, 39850, 55000, 75000, 37500, 85000, 110000, 60000, 70000, 150000, 65000, 43038, 45000, 42500, 37500, 60000, 120000, 145000, 60000, 100000, 100000, 40000, 62500, 67500, 20000, 85000, 70000, 70000, 70000, 60000, 42500, 65000, 135000, 44500, 70000, 30000, 42500, 140000, 50400, 52500, 80000, 32500, 28000, 54200, 17550, 57000, 43000, 150000, 30000, 82500, 72500, 27500, 60000, 60000, 60000, 60000, 60000, 19500, 35750, 60000, 27500, 53000, 15592, 200000, 50000, 22750, 50000, 32500, 35750, 37500, 105000, 32500, 147500, 74750, 39000, 115000, 80000, 80000, 15600, 45000, 275000, 26000, 115000, 20800, 115000, 65000, 65000, 29250, 21519, 42500, 41500, 11596, 75000, 151650, 80000, 52500, 75000, 38500, 275000, 44306, 22750, 95000, 35500, 27500, 80000, 70000, 55000, 90000, 38000, 25000, 62500, 80000, 37500, 47500, 275000, 20000, 26995, 115000, 250000, 140000, 140000, 73500, 46500, 45000, 45000, 90000, 22500, 65000, 100000, 32500, 70000, 75000, 55000, 61000, 110000, 75000, 85000, 107500, 107500, 107500, 107500, 107500, 107500, 107500, 107500, 107500, 107500, 107500, 107500, 107500, 107500, 150000, 59500, 181980, 30000, 77500, 91000, 90000, 30000, 11700, 75000, 135000, 47500, 97000, 97000, 97000, 97000, 97000, 97000, 345000, 105000, 52500, 82000, 240000, 145000, 105000, 90500, 50000, 295000, 166815, 166815, 166815, 31083, 65000, 80000, 70000, 200000, 80000, 95000, 60000, 44500, 60000, 50083322, 75000, 35000, 45000, 59500, 35000, 112500, 32500, 45000, 45000, 85000, 165000, 60000, 45500, 65500, 38500, 42000, 110000, 180000, 180000, 250000, 115000, 155000, 50000, 57500, 75000, 100000, 27500, 60000, 190000, 75000, 37500, 77500, 115000, 22500, 90000, 63000, 32500, 47500, 77500, 60000, 32500, 75000, 75000, 75000, 75000, 60000, 39050, 40000, 195000, 55000, 40000, 160000, 75000, 82500, 215000, 80000, 35000, 105000, 55000, 55000, 90000, 45000, 121320, 45000, 45000, 60000, 37500, 55000, 85000, 57500, 50000, 45000, 85000, 225000, 275000, 115000, 225000, 350000, 105000, 110000, 394290, 30330, 100000, 40000, 125000, 140000, 250000, 250000, 250000, 60970, 92500, 92500, 70000, 55000, 325000, 87500, 47500, 102500, 102500, 102500, 102500, 102500, 102500, 102500, 33642, 125000, 26000, 130000, 22500, 35750, 48750, 60000, 35600, 37000, 21500, 151650, 26650, 30000, 120000, 120000, 120000, 120000, 120000, 120000, 120000, 120000, 120000, 120000, 120000, 120000, 120000, 120000, 85000, 33150, 24700, 34500, 91000, 88866, 70000, 30500, 80000, 57500, 26000, 39456]}
        salary_prof_dynamic = {2022: [175000, 205000, 67500, 275000, 38500, 90000, 22500, 150000, 40000, 105000]}
        salary_city = {'Санкт-Петербург': [60000, 70000, 389350, 50000, 125000, 21500, 175000, 250000, 92500, 55000, 85000, 70000, 150000, 65000, 42500, 37500, 80000, 70000, 90000, 250000, 90000, 110000, 105000, 90500, 180000, 155000, 100000, 90000, 60000, 55000, 75000, 45000, 45000, 85000, 110000, 40000, 250000, 325000], 'Пермь': [30000, 41000, 42500, 100000, 20000, 107500, 55000, 37000, 70000], 'Тюмень': [30000, 70000, 80000, 60000, 72500, 45000, 46500, 55000, 30000, 110000], 'Москва': [250000, 175000, 389350, 50000, 160000, 175000, 90000, 205000, 325000, 115000, 90000, 250000, 12500, 80000, 400000, 75000, 37500, 110000, 60000, 120000, 60000, 62500, 67500, 150000, 200000, 275000, 80000, 55000, 275000, 115000, 140000, 65000, 100000, 75000, 75000, 150000, 181980, 77500, 90000, 75000, 97000, 105000, 240000, 145000, 50000, 295000, 200000, 80000, 95000, 85000, 165000, 60000, 65500, 180000, 250000, 115000, 75000, 60000, 190000, 75000, 115000, 47500, 195000, 160000, 82500, 215000, 105000, 60000, 50000, 45000, 85000, 225000, 275000, 115000, 225000, 350000, 394290, 100000, 125000, 140000, 250000], 'Ростов-на-Дону': [55000, 39000, 109188, 39000, 95000, 59500, 80000, 75000], 'Казань': [85000, 109188, 107500, 135000, 345000], 'Ижевск': [30000, 47500, 56000, 27500, 130000], 'Томск': [41000, 29500, 29500, 39850, 45000, 92500], 'Алматы': [146250, 61750, 182000, 162500, 29250, 31200, 150000, 32500, 35750, 22750, 35750, 74750, 26000, 22750, 32500, 91000, 45500, 26000, 35750, 48750, 26650, 26000], 'Хабаровск': [75000, 72500, 85000, 60000, 21500], 'Екатеринбург': [125000, 175000, 81500, 100000, 54200, 60000, 75000, 44500, 112500, 125000], 'Новосибирск': [50000, 42500, 70000, 70000, 42500, 37500, 35500, 63000, 75000, 92500, 47500, 57500], 'Челябинск': [82500, 42500, 38774, 57000, 53000, 32500, 65000, 85000, 65000, 32500, 35600, 39456], 'Нижний Новгород': [25000, 25000, 20500, 50000, 60000, 45000, 250000, 120000], 'Уфа': [59250, 285000, 107500, 47500, 34500], 'Набережные Челны': [70000, 70000, 80000, 107500, 82000, 38500, 120000], 'Красноярск': [40000, 44500, 147500, 37500, 55000, 22500], 'Минск': [43038, 21519, 11596, 121320, 30330], 'Иркутск': [20000, 65000, 30000, 140000, 102500, 102500, 102500], 'Владивосток': [60000, 135000, 115000, 80000, 77500, 60000], 'Краснодар': [75000, 45000, 61000, 166815, 60000, 55000, 30000]}
        city_count = {'Ульяновск': 12, 'Санкт-Петербург': 456, 'Махачкала': 12, 'Буйнакск': 12, 'Пермь': 108, 'Тюмень': 120, 'Москва': 972, 'Октябрьский (Московская область, Люберецкий район)': 12, 'Дмитров': 12, 'Ростов-на-Дону': 96, 'Казань': 60, 'Астрахань': 24, 'Ижевск': 60, 'Томск': 72, 'Бишкек': 12, 'Алматы': 264, 'Хабаровск': 60, 'Амурск': 12, 'Комсомольск-на-Амуре': 12, 'Князе-Волконское': 12, 'Ташкент': 48, 'Екатеринбург': 120, 'Ленинское (Новосибирская область)': 12, 'Новосибирск': 144, 'Якутск': 24, 'Армавир': 12, 'Челябинск': 144, 'Нижний Новгород': 96, 'Атырау': 12, 'Уфа': 60, 'Нефтеюганск': 12, 'Караганда': 48, 'Тамбов': 24, 'Пушкин': 12, 'Нижний Тагил': 12, 'Александров': 12, 'Набережные Челны': 84, 'Красноярск': 72, 'Ногинск': 12, 'Ставрополь': 24, 'Минск': 60, 'Кострома': 12, 'Партизанск': 12, 'Иваново (Ивановская область)': 12, 'Иркутск': 84, 'Новокузнецк': 24, 'Осинники': 12, 'Прокопьевск': 12, 'Владивосток': 72, 'Улан-Удэ': 24, 'Артем': 12, 'Кыштым': 24, 'Кемерово': 36, 'Петропавловск': 12, 'Сызрань': 12, 'Норильск': 12, 'Омск': 48, 'Петропавловск-Камчатский': 24, 'Горно-Алтайск': 12, 'Воронеж': 36, 'Самара': 24, 'Химки': 12, 'Бердск': 24, 'Чебоксары': 12, 'Нур-Султан': 48, 'Большой Камень': 12, 'Костанай': 24, 'Находка': 12, 'Благовещенск (Амурская область)': 12, 'Пенза': 24, 'Вологда': 12, 'Краснодар': 84, 'Рязань': 24, 'Саранск': 24, 'Котово': 12, 'Владикавказ': 12, 'Владимир': 12, 'Белгород': 24, 'Радужный (Ханты-Мансийский АО - Югра)': 12, 'Брянск': 12, 'Мытищи': 12, 'Ярославль': 12, 'Азов': 12, 'Нижнекамск': 24, 'Бугульма': 12, 'Салават': 12, 'Стерлитамак': 12, 'Нефтекамск': 12, 'Октябрьский (Республика Башкортостан)': 12, 'Ишимбай': 12, 'Альметьевск': 12, 'Зеленодольск (Республика Татарстан)': 12, 'Елабуга': 12, 'Симферополь': 24, 'Липецк': 12, 'Елец': 12, 'Тула': 24, 'Чехов': 12, 'Севастополь': 24, 'Гомель': 12, 'Волгоград': 24, 'Киев': 24, 'Саратов': 24, 'Кронштадт': 12, 'Барнаул': 24, 'Петрозаводск': 12, 'Великий Новгород': 12, 'Таганрог': 12, 'Искитим': 12, 'Кольцово (Новосибирская область)': 12, 'Тверь': 12, 'Шелехов': 12, 'Щелково': 12, 'Тольятти': 12, 'Киров (Кировская область)': 12, 'Калининград': 12, 'Дзержинский': 12, 'Геленджик': 12, 'Ангарск': 24, 'Братск': 24, 'Усть-Кут': 12, 'Сургут': 12, 'Абакан': 12, 'Адлер': 12, 'Алдан': 12, 'Анадырь': 12, 'Анапа': 12, 'Нерюнгри': 12, 'Орск': 12, 'Печора': 12, 'Тихорецк': 12, 'Усть-Каменогорск': 12, 'Краснотурьинск': 12, 'Нижневартовск': 12}
        count_dynamic = {2022: 428}
        prof_count = {2022: 10}
        self.assertEqual(DataSet.last_summ(salary_dynamic, salary_prof_dynamic, salary_city, city_count, count_dynamic, prof_count), ({2022: 204316}, {2022: 428}, {2022: 116850}, {2022: 10}, {'Казань': 156337, 'Москва': 142291, 'Санкт-Петербург': 111548, 'Уфа': 106750, 'Екатеринбург': 95270, 'Владивосток': 87916, 'Набережные Челны': 81142, 'Иркутск': 80357, 'Нижний Новгород': 74437, 'Краснодар': 70402}, {'Москва': 0.1893, 'Санкт-Петербург': 0.0888, 'Алматы': 0.0514, 'Новосибирск': 0.028, 'Челябинск': 0.028, 'Тюмень': 0.0234, 'Екатеринбург': 0.0234, 'Пермь': 0.021, 'Ростов-на-Дону': 0.0187, 'Нижний Новгород': 0.0187}))

